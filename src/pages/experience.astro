---
import MainLayout from '@/layouts/main.astro';
import { Card, CardHeader, CardContent, CardFooter } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { Button } from '@/components/ui/button';
import { Separator } from '@/components/ui/separator';
import { Breadcrumb, BreadcrumbItem, BreadcrumbLink, BreadcrumbList, BreadcrumbPage, BreadcrumbSeparator } from '@/components/ui/breadcrumb';
import { projects, skillUrls } from '@/data/resume-data';
---

<MainLayout title="Experience - Akshat Nigam">
  <div class="container mx-auto px-4 py-8 md:py-12 max-w-6xl">
    
    <!-- Breadcrumb Navigation -->
    <nav class="mb-8">
      <Breadcrumb>
        <BreadcrumbList>
          <BreadcrumbItem>
            <BreadcrumbLink href="/resume/">Home</BreadcrumbLink>
          </BreadcrumbItem>
          <BreadcrumbSeparator />
          <BreadcrumbItem>
            <BreadcrumbPage>Experience</BreadcrumbPage>
          </BreadcrumbItem>
        </BreadcrumbList>
      </Breadcrumb>
    </nav>

    <!-- Page Header -->
    <header class="mb-12">
      <h1 class="text-3xl md:text-4xl font-bold mb-4">Experience</h1>
      <p class="text-base md:text-lg text-muted-foreground">
        A comprehensive overview of enterprise-grade projects spanning 13+ years of full-stack development across multiple industries and technology stacks.
      </p>
    </header>

    <Separator className="my-8" />

    <!-- Projects Grid -->
    <section>
      <div class="space-y-8">
        {projects.map((project) => (
          <a href={`/resume/projects/${project.id}`} class="block group">
            <Card className="hover:shadow-lg hover:border-primary/50 hover:-translate-y-1 transition-all duration-200 cursor-pointer">
              <CardHeader>
                <div class="space-y-3">
                  <div class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-2">
                    <h2 class="text-xl md:text-2xl font-bold group-hover:text-primary transition-colors">
                      {project.title}
                    </h2>
                    <Badge variant="default" className="w-fit">
                      {project.vertical}
                    </Badge>
                  </div>
                  
                  <div class="flex flex-col gap-1 text-sm text-muted-foreground">
                    <p class="font-semibold">{project.dateRange}</p>
                    <p><span class="font-medium">Company:</span> {project.company}</p>
                    {project.client && (
                      <p><span class="font-medium">Client:</span> {project.client}</p>
                    )}
                  </div>
                </div>
              </CardHeader>

              <CardContent className="space-y-4">
                <!-- Description -->
                <p class="text-sm md:text-base leading-relaxed">
                  {project.description}
                </p>

                <!-- Technologies -->
                <div class="flex flex-wrap gap-1.5">
                  {project.technologies.map((tech) => (
                    <Badge variant="outline" className="text-xs">{tech}</Badge>
                  ))}
                </div>

                <!-- Key Contributions -->
                <div>
                  <h3 class="text-sm font-semibold mb-3">Key Contributions:</h3>
                  <ul class="space-y-2">
                    {project.contributions.slice(0, 3).map((contribution) => (
                      <li class="text-sm text-muted-foreground flex gap-2">
                        <span class="text-primary mt-1 flex-shrink-0">•</span>
                        <span>{contribution}</span>
                      </li>
                    ))}
                  </ul>
                </div>
              </CardContent>

              <CardFooter>
                <Button variant="secondary" className="w-full sm:w-auto pointer-events-none">
                  View Full Details →
                </Button>
              </CardFooter>
            </Card>
          </a>
        ))}
      </div>
    </section>
  </div>
</MainLayout>
